# nohup Command Execution MCP (Management Control Program) Specification Document

## 1. Service Introduction
This service is an MCP (Management Control Program) for background process execution based on the `nohup` command. It supports running commands via `nohup` on local or remote servers, ensuring processes continue running after the terminal is closed, suitable for long-running tasks.

## 2. Core Tool Information

| Tool Name | Tool Function | Core Input Parameters | Key Return Content |
| ---- | ---- | ---- | ---- |
| `run_with_nohup` | Runs commands using `nohup` on local or remote servers, supporting background execution | - `command`：Command to execute (string, required)<br>- `host`：Remote host IP or hostname (optional for local execution)<br>- `port`：SSH port (default 22, used for remote execution)<br>- `username`：SSH username (required for remote execution)<br>- `password`：SSH password (required for remote execution)<br>- `output_file`：Output log file path (optional, auto-generated by default)<br>- `working_dir`：Working directory for command execution (optional) | - `success`：Whether the operation succeeded (boolean)<br>- `message`：Description of execution result (string)<br>- `pid`：Process ID (returned on successful execution)<br>- `output_file`：Output log file path<br>- `command`：Actually executed command<br>- `host`：Host where the command was executed (local is `localhost`) |

## 3. Tool Usage Instructions
1. **Local Execution**：Do not fill in `host`, `username`, and `password`; simply specify `command`.
2. **Remote Execution**：Must provide `host`, `username`, and `password`; `port` is optional (default 22).
3. Log Output：If `output_file` is not specified, a default log file is generated (usually `nohup.out` or a custom-named file); ensure the executing user has write permissions for the specified path.
4. Working Directory：Use `working_dir` to specify the directory for command execution; defaults to the current user's home directory if not specified.

## 4. Notes
- Remote execution requires `nohup` to be installed on the target server (usually included by default).
- After successful execution, the process runs in the background and will not terminate even if the SSH connection or terminal is closed.
- If the command requires admin privileges, include `sudo` in `command` (e.g., `command: "sudo python script.py"`) and ensure the SSH user has sudo permissions.