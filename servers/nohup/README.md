# nohup命令执行MCP（管理控制程序）规范文档

## 一、服务介绍
本服务是一款基于`nohup`命令实现进程后台运行的MCP（管理控制程序），支持在本地或远程服务器通过`nohup`方式执行命令，确保进程在终端关闭后仍能持续运行，适用于需要长期运行的任务场景。

## 二、核心工具信息

| 工具名称 | 工具功能 | 核心输入参数 | 关键返回内容 |
| ---- | ---- | ---- | ---- |
| `run_with_nohup` | 使用`nohup`在本地或远程服务器运行命令，支持后台执行 | - `command`：需执行的命令（字符串，必填）<br>- `host`：远程主机IP或hostname（本地执行可不填）<br>- `port`：SSH端口（默认22，远程执行时使用）<br>- `username`：SSH用户名（远程执行时必填）<br>- `password`：SSH密码（远程执行时必填）<br>- `output_file`：输出日志文件路径（可选，默认自动生成）<br>- `working_dir`：命令执行的工作目录（可选） | - `success`：操作是否成功（布尔值）<br>- `message`：执行结果描述（字符串）<br>- `pid`：进程ID（成功执行时返回）<br>- `output_file`：输出日志文件路径<br>- `command`：实际执行的命令<br>- `host`：执行命令的主机（本地为`localhost`） |

## 三、工具使用说明
1. **本地执行**：不填写`host`、`username`、`password`参数，直接指定`command`即可。
2. **远程执行**：必须提供`host`、`username`、`password`参数，`port`可选（默认22）。
3. 日志输出：若未指定`output_file`，默认生成日志文件（通常为`nohup.out`或自定义命名文件）；指定路径时需确保执行用户有写入权限。
4. 工作目录：通过`working_dir`指定命令执行的目录，若不指定则使用当前用户的默认目录。

## 四、注意事项
- 远程执行需确保目标服务器已安装`nohup`工具（通常默认包含）。
- 命令执行成功后，进程将在后台运行，即使关闭SSH连接或终端也不会终止。
- 若命令需要管理员权限，需在`command`中包含`sudo`（如`command: "sudo python script.py"`），并确保SSH用户有sudo权限。